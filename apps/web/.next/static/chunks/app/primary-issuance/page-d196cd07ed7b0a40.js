(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[969],{8409:function(e,s,t){Promise.resolve().then(t.bind(t,7609))},7609:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return n}});var r=t(1514),a=t(7993);function n(){let[e,s]=(0,a.useState)([]),[t,n]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!0),[o,m]=(0,a.useState)(""),[x,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{fetch("http://localhost:4001/primary-deals").then(e=>e.json()).then(e=>{s(e.deals),c(!1)}).catch(e=>{console.error("Failed to fetch primary deals:",e),c(!1)})},[]);let h=e=>{n(e),l(!0)},f=()=>{l(!1),n(null),m("")},p=async()=>{if(t&&o){u(!0);try{let e=await fetch("http://localhost:4001/primary-deals/".concat(t.id,"/interest"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"demo-user",amountUSD:parseFloat(o)})});(await e.json()).success?(alert("Interest registered successfully! (Non-binding)"),f()):alert("Failed to register interest")}catch(e){console.error("Error registering interest:",e),alert("Failed to register interest")}finally{u(!1)}}},g=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";return new Intl.NumberFormat("en-US",{style:"currency",currency:s,minimumFractionDigits:0,maximumFractionDigits:0}).format(e)},j=e=>{switch(e){case"open":return"bg-green-500";case"upcoming":return"bg-blue-500";default:return"bg-gray-500"}},b=e=>{switch(e){case"open":return"Open";case"upcoming":return"Upcoming";case"closed":return"Closed";default:return e}};return d?(0,r.jsx)("div",{className:"min-h-screen bg-brand-background flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-brand-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Loading primary deals..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-brand-background",children:[(0,r.jsx)("div",{className:"border-b border-border bg-card",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-4",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold gradient-text",children:"Primary Corporate Issuance"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-1",children:"Demo / Not an offer. Hypothetical primary issuance previews."})]})}),(0,r.jsx)("div",{className:"bg-yellow-50 border-b border-yellow-200",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-3",children:(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"text-yellow-800 text-sm font-medium",children:"⚠️ Demo / Not an offer. Hypothetical primary issuance previews."})})})}),(0,r.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,r.jsxs)("div",{className:"p-6 rounded-lg border cursor-pointer transition-all hover:shadow-md hover:border-brand-primary/50 bg-card hover:bg-card/80",onClick:()=>h(e),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg leading-tight mb-1",children:e.issuerName}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center text-xs font-bold text-gray-600",children:e.issuerLogoSlug.charAt(0)}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:e.issuerLogoSlug})]})]}),(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-xs text-white whitespace-nowrap ml-2 ".concat(j(e.status)),children:b(e.status)})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Coupon"}),(0,r.jsxs)("span",{className:"font-semibold text-brand-accent",children:[e.couponPct.toFixed(2),"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tenor"}),(0,r.jsxs)("span",{className:"font-medium",children:[e.tenorYears," Years"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Min Order"}),(0,r.jsx)("span",{className:"font-medium",children:g(e.minOrderUSD||1e5)})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,r.jsxs)("span",{className:"font-medium",children:[(e.raisedSoFarUSD/e.targetAmountUSD*100).toFixed(1),"%"]})]}),(0,r.jsx)("div",{className:"w-full bg-secondary rounded-full h-2",children:(0,r.jsx)("div",{className:"bg-brand-primary h-2 rounded-full transition-all duration-300",style:{width:"".concat(Math.min(e.raisedSoFarUSD/e.targetAmountUSD*100,100),"%")}})}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground text-center",children:[g(e.raisedSoFarUSD)," / ",g(e.targetAmountUSD)]})]})]},e.id))})}),i&&t&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-card rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-1",children:t.issuerName}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center text-xs font-bold text-gray-600",children:t.issuerLogoSlug.charAt(0)}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:t.issuerLogoSlug})]})]}),(0,r.jsx)("button",{onClick:f,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),(0,r.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Coupon Rate"}),(0,r.jsxs)("span",{className:"font-semibold text-brand-accent",children:[t.couponPct.toFixed(2),"%"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tenor"}),(0,r.jsxs)("span",{className:"font-medium",children:[t.tenorYears," Years"]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Target Amount"}),(0,r.jsx)("span",{className:"font-medium",children:g(t.targetAmountUSD)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Raised So Far"}),(0,r.jsx)("span",{className:"font-medium",children:g(t.raisedSoFarUSD)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Minimum Order"}),(0,r.jsx)("span",{className:"font-medium",children:g(t.minOrderUSD||1e5)})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:"Status"}),(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs text-white ".concat(j(t.status)),children:b(t.status)})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Interest Amount (USD)"}),(0,r.jsx)("input",{type:"number",value:o,onChange:e=>m(e.target.value),placeholder:"Enter amount",className:"w-full px-3 py-2 rounded-md border border-input bg-background text-sm",min:t.minOrderUSD||1e5})]}),(0,r.jsx)("div",{className:"text-xs text-muted-foreground",children:t.disclaimer}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)("button",{onClick:f,className:"flex-1 px-4 py-2 text-sm border border-input bg-background hover:bg-accent hover:text-accent-foreground rounded-md transition-colors",children:"Cancel"}),(0,r.jsx)("button",{onClick:p,disabled:!o||x,className:"flex-1 px-4 py-2 text-sm bg-brand-primary text-white hover:bg-brand-primary/90 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:x?"Registering...":"Register Interest"})]})]})]})})})]})}}},function(e){e.O(0,[869,753,744],function(){return e(e.s=8409)}),_N_E=e.O()}]);